<template name="notificationSettings"> 
  <div class="panel panel-default">
    <div class="panel-heading" data-toggle="collapse" data-target="#setings">
      <div class="panel-title">Notification settings</div>
    </div>
    <div class="panel-body" id="setings">
      <form novalidate="novalidate">
        <div class="form-group" data-required="true">
          <select name="smsMethod" id="smsMethod" class="form-control">
            <option disabled>(Select One)</option>
            <option value="twilioSettings">Twilio</option>
            <option value="jusibeSettings">Jusibe</option>
            <option value="emailNotificationSettings">Email</option>
          </select>
        </div>   
      </form>
      <div class="sms-body">
        {{> UI.dynamic template=showSettings }}
      </div>
    </div>
  </div>
  <div class="panel panel-default">
    <div class="panel-heading" data-toggle="collapse" data-target="#default">
      <div class="panel-title">Default settings</div>
    </div>
    <div class="panel-body collapse" id="default">
      {{#autoForm collection=Collections.Packages schema=DefaultPackageConfig doc=packageData type="update" id="sms-update-form"}}
          {{>afQuickField name='settings.default' options="allowed"  noselect=true}}
        <button type="submit" class="btn btn-primary pull-right">Activate</button>
      {{/autoForm}}
    </div>
  </div>
</template>

<template name="twilioSettings">
  {{#autoForm collection=Collections.Packages schema=TwilioPackageConfig doc=packageData type="update" id="twilio-update-form"}}
    {{>afQuickField name='settings.api.twilio.authToken'}}
    {{>afQuickField name='settings.api.twilio.accSid'}}
    {{>afQuickField name='settings.api.twilio.phoneNumber'}}
    <button type="submit" class="form-control btn btn-success pull-right">Update</button>
  {{/autoForm}}
</template>

<template name="jusibeSettings">
  {{#autoForm collection=Collections.Packages schema=JusibePackageConfig doc=packageData type="update" id="jusibe-update-form"}}
    {{>afQuickField name='settings.api.jusibe.accessToken' placeholder="Access token"}}
    {{>afQuickField name='settings.api.jusibe.publicKey' placeholder="Public Key"}}
    {{>afQuickField name='settings.api.jusibe.phoneNumber' placeholder="Shope Name"}}
    <button type="submit" class="form-control btn btn-success pull-right">Update</button>
  {{/autoForm}}
</template>


<template name="emailNotificationSettings">
  {{#autoForm collection=Collections.Packages schema=EmailNotificationPackageConfig doc=packageData type="update" id="email-update-form"}}
    {{>afQuickField name='settings.email.host' placeholder="host"}}
    {{>afQuickField name='settings.email.port' placeholder="port"}}
    {{>afQuickField name='settings.email.username' placeholder="username"}}
    {{>afQuickField name='settings.email.password' type="password" placeholder="password"}}
    <button type="submit" class="form-control btn btn-success pull-right">Update</button>
  {{/autoForm}}
</template>
